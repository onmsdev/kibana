<form
  name="exportForm"
  role="form"
  ng-submit="export()"
>
    <div class="kuiLocalDropdownTitle">Export Results</div>
  <!--<div class="container" >-->
    <div class="row">
      <div class="col-md-1">
        File Name
      </div>
      <div class="col-md-2">
          <input
            class="kuiLocalDropdownInput"
            id="fileName"
            ng-model="exportParams.exportFileName"
            input-focus="select"
            placeholder="specify a file name..."
            required
          >
      </div>
      <div class="col-md-1">
        Number of items 
      </div>
      <div class="col-md-2">
          <input
              class="kuiLocalDropdownInput"
              id="exportSize"
              ng-model="exportParams.exportSize"
              placeholder="* - All"
              required 
            >
      </div>
      <div class="col-md-1">
       Delimiter
      </div>
      <div class="col-md-1">
          <input
              class="kuiLocalDropdownInput"
              id="exportDelimiter"
              ng-model="exportParams.delimiter"
              placeholder=","
              required
            >
      </div>
      <div class="col-md-2">
       Field Value Quoter 
      </div>
      <div class="col-md-1">
          <input
              class="kuiLocalDropdownInput"
              id="exportQuoter"
              ng-model="exportParams.quoter"
              placeholder="\""
              required
            >
      </div>
      
    </div>
    <br/>
    <div class="row">
      <div class="col-md-2">
        <button ng-disabled="(export.inProgress || state.columns.length == 1 &&  state.columns[0] == '_source' || !exportForm.$valid || exportParams.exportSize < 1 || exportParams.delimiter.length > 1 || exportParams.quoter.length > 1)" data-test-subj="discover-save-search-btn" type="submit" class="btn btn-primary">
            Export
        </button>
      </div>
      <div class="col-md-2">
      <span>Show Export Metrics</span>
      </div>
      <div class="col-md-1">
       <input type="checkbox" ng-model="exportMetrics.enabled">
       </input>
      </div>
      <div class="col-md-6" role="alert">
            <span class="error" style="color:green" ng-show ="exportMetrics.enabled">
            query latency (approx): {{exportMetric.queryLatency}} sec, build latency : {{exportMetric.buildLatency}} sec
            </span>

      </div>
    </div>
    <br/>

    <div class="row">
      <div class="col-md-8" role="alert">

            <span class="error" style="color:blue" ng-show="export.inProgress" >Exporting...</span>
            <span class="error" style="color:red" ng-show="export.timedout" >
            Export taking too long to complete :(  consider revising query for smaller result set or choose lesser number of selected fields
            </span>

              <span class="error" style="color:red" ng-show="exportParams.exportSize < 1 " >
                Sorry! number of items must be at least 1 </span>
              <span class="error" style="color:red" ng-show="state.columns.length == 1 &&  state.columns[0] == '_source'" >
                Please select at least one field other than '_source' </span>
              <span class="error" style="color:red" ng-show="exportParams.delimiter.length > 1" >
                Delimiter should be one character </span>
              <span class="error" style="color:red" ng-show="exportParams.quoter.length > 1" >
                Quoter should be one character </span>

      </div>
      <div class="col-md-1" >
       <span >&nbsp</span>
      </div>
    </div>

    <br/>
  <!--</div>-->
  
</form>